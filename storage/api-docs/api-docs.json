{
    "openapi": "3.0.0",
    "info": {
        "title": "PetSpace",
        "description": "Documentation for PetSpace Endpoints",
        "version": "1.0.0"
    },
    "paths": {
        "/account/user": {
            "get": {
                "tags": [
                    "Account"
                ],
                "summary": "Get user account details",
                "description": "Retrieves the account details of the currently authenticated user. Web register and login returns the same json structure",
                "operationId": "getUser",
                "responses": {
                    "200": {
                        "description": "User account details retrieved successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "id": {
                                            "type": "integer",
                                            "example": 2
                                        },
                                        "first_name": {
                                            "type": "string",
                                            "example": "Charm"
                                        },
                                        "last_name": {
                                            "type": "string",
                                            "example": "Test"
                                        },
                                        "role": {
                                            "type": "string",
                                            "example": null,
                                            "nullable": true
                                        },
                                        "dob": {
                                            "type": "string",
                                            "format": "date",
                                            "example": null,
                                            "nullable": true
                                        },
                                        "gender": {
                                            "type": "string",
                                            "example": null,
                                            "nullable": true
                                        },
                                        "email": {
                                            "type": "string",
                                            "format": "email",
                                            "example": "test2@example.com"
                                        },
                                        "phone": {
                                            "type": "string",
                                            "example": null,
                                            "nullable": true
                                        },
                                        "pets_count": {
                                            "type": "integer",
                                            "example": 3
                                        },
                                        "is_form_filled": {
                                            "type": "boolean",
                                            "example": null,
                                            "nullable": true
                                        },
                                        "profile_image": {
                                            "type": "string",
                                            "format": "url",
                                            "example": null,
                                            "nullable": true
                                        },
                                        "address": {
                                            "properties": {
                                                "street_name": {
                                                    "type": "string",
                                                    "example": null,
                                                    "nullable": true
                                                },
                                                "city": {
                                                    "type": "string",
                                                    "example": null,
                                                    "nullable": true
                                                },
                                                "province": {
                                                    "type": "string",
                                                    "example": null,
                                                    "nullable": true
                                                },
                                                "postal_code": {
                                                    "type": "string",
                                                    "example": null,
                                                    "nullable": true
                                                },
                                                "country": {
                                                    "type": "string",
                                                    "example": null,
                                                    "nullable": true
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthorized - User not authenticated"
                    },
                    "404": {
                        "description": "User account not found"
                    }
                }
            }
        },
        "/api/account/update": {
            "post": {
                "tags": [
                    "Account"
                ],
                "summary": "Update user account details",
                "description": "Updates the user account information, including address and personal details",
                "operationId": "updateUserAccount",
                "requestBody": {
                    "required": true,
                    "content": {
                        "multipart/form-data": {
                            "schema": {
                                "properties": {
                                    "first_name": {
                                        "description": "User's first name",
                                        "type": "string",
                                        "maxLength": 255,
                                        "example": "Steve"
                                    },
                                    "last_name": {
                                        "description": "User's last name",
                                        "type": "string",
                                        "maxLength": 255,
                                        "example": "Tester"
                                    },
                                    "phone": {
                                        "description": "User's phone number",
                                        "type": "string",
                                        "example": "(123) 456-7890"
                                    },
                                    "address_street_name": {
                                        "description": "Street name of the user's address",
                                        "type": "string",
                                        "maxLength": 255,
                                        "example": "103 Redfox Grove"
                                    },
                                    "address_city": {
                                        "description": "City of the user's address",
                                        "type": "string",
                                        "maxLength": 255,
                                        "example": "Waterloo"
                                    },
                                    "address_province": {
                                        "description": "Province of the user's address",
                                        "type": "string",
                                        "maxLength": 255,
                                        "example": "Alberta"
                                    },
                                    "address_country": {
                                        "description": "Country of the user's address",
                                        "type": "string",
                                        "maxLength": 255,
                                        "example": "Canada"
                                    },
                                    "address_postal_code": {
                                        "description": "Postal code of the user's address",
                                        "type": "string",
                                        "maxLength": 255,
                                        "example": "A1B 2C3"
                                    },
                                    "is_form_filled": {
                                        "description": "Indicates whether the user form has been filled",
                                        "type": "boolean",
                                        "example": true
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "User account updated successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "id": {
                                            "type": "integer",
                                            "example": 3
                                        },
                                        "first_name": {
                                            "type": "string",
                                            "example": "Steve"
                                        },
                                        "last_name": {
                                            "type": "string",
                                            "example": "Tester"
                                        },
                                        "role": {
                                            "type": "string",
                                            "example": null,
                                            "nullable": true
                                        },
                                        "dob": {
                                            "type": "string",
                                            "format": "date",
                                            "example": null,
                                            "nullable": true
                                        },
                                        "gender": {
                                            "type": "string",
                                            "example": null,
                                            "nullable": true
                                        },
                                        "email": {
                                            "type": "string",
                                            "format": "email",
                                            "example": "steve.test@example.com"
                                        },
                                        "phone": {
                                            "type": "string",
                                            "example": "(123) 456-7890"
                                        },
                                        "pets_count": {
                                            "type": "integer",
                                            "example": 4
                                        },
                                        "is_form_filled": {
                                            "type": "boolean",
                                            "example": null,
                                            "nullable": true
                                        },
                                        "profile_image": {
                                            "type": "string",
                                            "format": "url",
                                            "example": null,
                                            "nullable": true
                                        },
                                        "address": {
                                            "properties": {
                                                "id": {
                                                    "type": "integer",
                                                    "example": 1
                                                },
                                                "user_id": {
                                                    "type": "integer",
                                                    "example": 3
                                                },
                                                "street_name": {
                                                    "type": "string",
                                                    "example": "103 Redfox Grove"
                                                },
                                                "city": {
                                                    "type": "string",
                                                    "example": "Waterloo"
                                                },
                                                "province": {
                                                    "type": "string",
                                                    "example": "Alberta"
                                                },
                                                "postal_code": {
                                                    "type": "string",
                                                    "example": "A1B 2C3"
                                                },
                                                "country": {
                                                    "type": "string",
                                                    "example": "Canada"
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Bad Request - Invalid input"
                    },
                    "404": {
                        "description": "Not Found - User not found"
                    }
                }
            }
        },
        "/pet-record/upload": {
            "post": {
                "tags": [
                    "PetDocuRecordsController"
                ],
                "summary": "Upload a pet document",
                "operationId": "979d896d67c8fb07a9ee72ef9608c47a",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "properties": {
                                    "pet_id": {
                                        "type": "integer",
                                        "example": 1
                                    },
                                    "filename": {
                                        "type": "string",
                                        "example": "document.pdf"
                                    },
                                    "document": {
                                        "type": "string",
                                        "format": "binary",
                                        "example": "document.pdf"
                                    },
                                    "date_added": {
                                        "type": "string",
                                        "format": "date",
                                        "example": "2024-11-04"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "User created"
                    },
                    "400": {
                        "description": "Invalid input"
                    }
                }
            }
        },
        "/pet-record/list/{pet_id}": {
            "get": {
                "tags": [
                    "PetDocuRecordsController"
                ],
                "summary": "Retrieve document records for a specific pet",
                "operationId": "7b6cd007b437bc32e093c23e3adc09a9",
                "parameters": [
                    {
                        "name": "pet_id",
                        "in": "path",
                        "description": "ID of the pet to retrieve records for",
                        "required": true,
                        "schema": {
                            "type": "integer",
                            "example": 1
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Record retrieved successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Record retrieved successfully"
                                        },
                                        "list": {
                                            "type": "array",
                                            "items": {
                                                "properties": {
                                                    "id": {
                                                        "type": "integer",
                                                        "example": 1
                                                    },
                                                    "pet_id": {
                                                        "type": "integer",
                                                        "example": 1
                                                    },
                                                    "added_by_id": {
                                                        "type": "integer",
                                                        "example": 3
                                                    },
                                                    "added_by_first_name": {
                                                        "type": "string",
                                                        "example": "Steve"
                                                    },
                                                    "added_by_last_name": {
                                                        "type": "string",
                                                        "example": "Tester"
                                                    },
                                                    "record_path": {
                                                        "type": "string",
                                                        "format": "url",
                                                        "example": "http://localhost:8000/storage/3/documents/kXD9Eh3xZBTEXjwzvIIZBcqY6TJGG2BN07PlU34F.pdf?expires=1730855033&signature=c3e5c7daa5a259afc22b91580bc3d8a88b4b7c4749a206bf3e7ade0731ef7b59"
                                                    },
                                                    "created_at": {
                                                        "type": "string",
                                                        "format": "date-time",
                                                        "example": "2024-11-04T20:21:36.000000Z"
                                                    },
                                                    "updated_at": {
                                                        "type": "string",
                                                        "format": "date-time",
                                                        "example": "2024-11-04T20:21:36.000000Z"
                                                    }
                                                },
                                                "type": "object"
                                            }
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "You are not authorized"
                    },
                    "404": {
                        "description": "No documents found"
                    }
                }
            }
        },
        "/pet/allergen-dictionary": {
            "get": {
                "tags": [
                    "PetHealth"
                ],
                "summary": "Get allergen dictionary list",
                "description": "Retrieves a list of allergens and their classifications",
                "operationId": "getAllergenDictionary",
                "responses": {
                    "200": {
                        "description": "Allergy List retrieved successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Allergy List retrieved successfully"
                                        },
                                        "list": {
                                            "type": "array",
                                            "items": {
                                                "properties": {
                                                    "id": {
                                                        "description": "ID of the allergen",
                                                        "type": "integer",
                                                        "example": 1
                                                    },
                                                    "allergen": {
                                                        "description": "Name of the allergen",
                                                        "type": "string",
                                                        "example": "Beef"
                                                    },
                                                    "classification": {
                                                        "description": "Classification of the allergen",
                                                        "type": "string",
                                                        "example": "Food"
                                                    },
                                                    "species_affected": {
                                                        "description": "Species affected by the allergen",
                                                        "type": "string",
                                                        "example": "Dog & Cat"
                                                    },
                                                    "created_at": {
                                                        "description": "Timestamp of allergen creation",
                                                        "type": "string",
                                                        "format": "date-time",
                                                        "example": null,
                                                        "nullable": true
                                                    },
                                                    "updated_at": {
                                                        "description": "Timestamp of allergen update",
                                                        "type": "string",
                                                        "format": "date-time",
                                                        "example": null,
                                                        "nullable": true
                                                    }
                                                },
                                                "type": "object"
                                            }
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Allergens not found"
                    }
                }
            }
        },
        "pet/{petId}/allergy/add/{allergenId}": {
            "post": {
                "tags": [
                    "PetHealth"
                ],
                "summary": "Add a pet allergy",
                "description": "Adds an allergy to a pet and returns the updated list of allergies",
                "operationId": "addPetAllergy",
                "parameters": [
                    {
                        "name": "petId",
                        "in": "path",
                        "description": "ID of the pet",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    },
                    {
                        "name": "allergenId",
                        "in": "path",
                        "description": "ID of the allergen",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Allergy added successfully with updated allergy list",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Pet Allergy added successfully"
                                        },
                                        "list": {
                                            "type": "array",
                                            "items": {
                                                "properties": {
                                                    "id": {
                                                        "description": "Record ID of the pet allergy",
                                                        "type": "integer",
                                                        "example": 2
                                                    },
                                                    "allergen_id": {
                                                        "description": "ID of the allergen",
                                                        "type": "integer",
                                                        "example": 11
                                                    },
                                                    "allergen": {
                                                        "description": "Name of the allergen",
                                                        "type": "string",
                                                        "example": "Turkey"
                                                    },
                                                    "classification": {
                                                        "description": "Classification of the allergen",
                                                        "type": "string",
                                                        "example": "Food"
                                                    },
                                                    "added_by_first_name": {
                                                        "description": "First name of the person who added the allergy",
                                                        "type": "string",
                                                        "example": "Steve"
                                                    },
                                                    "added_by_last_name": {
                                                        "description": "Last name of the person who added the allergy",
                                                        "type": "string",
                                                        "example": "Tester"
                                                    },
                                                    "added_by_role": {
                                                        "description": "Role of the person who added the allergy, if applicable",
                                                        "type": "string",
                                                        "example": null,
                                                        "nullable": true
                                                    }
                                                },
                                                "type": "object"
                                            }
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Pet not found"
                    }
                }
            }
        },
        "/pet/{petId}/allergy/remove/{allergenId}": {
            "delete": {
                "tags": [
                    "PetHealth"
                ],
                "summary": "Remove pet allergy",
                "description": "Removes an allergy from the specified pet and returns the updated allergy list",
                "operationId": "removePetAllergy",
                "parameters": [
                    {
                        "name": "petId",
                        "in": "path",
                        "description": "ID of the pet",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    },
                    {
                        "name": "allergenId",
                        "in": "path",
                        "description": "ID of the allergen to be removed",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Pet allergy removed successfully with updated allergy list",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Pet allergy removed successfully"
                                        },
                                        "list": {
                                            "type": "array",
                                            "items": {
                                                "properties": {
                                                    "id": {
                                                        "description": "Record ID of the pet allergy",
                                                        "type": "integer",
                                                        "example": 2
                                                    },
                                                    "allergen_id": {
                                                        "description": "ID of the allergen",
                                                        "type": "integer",
                                                        "example": 11
                                                    },
                                                    "allergen": {
                                                        "description": "Name of the allergen",
                                                        "type": "string",
                                                        "example": "Turkey"
                                                    },
                                                    "classification": {
                                                        "description": "Classification of the allergen",
                                                        "type": "string",
                                                        "example": "Food"
                                                    },
                                                    "added_by_first_name": {
                                                        "description": "First name of the person who added the allergy",
                                                        "type": "string",
                                                        "example": "Steve"
                                                    },
                                                    "added_by_last_name": {
                                                        "description": "Last name of the person who added the allergy",
                                                        "type": "string",
                                                        "example": "Tester"
                                                    },
                                                    "added_by_role": {
                                                        "description": "Role of the person who added the allergy, if applicable",
                                                        "type": "string",
                                                        "example": null,
                                                        "nullable": true
                                                    }
                                                },
                                                "type": "object"
                                            }
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Pet or allergen not found"
                    }
                }
            }
        },
        "/pet/{petId}/allergies": {
            "get": {
                "tags": [
                    "PetHealth"
                ],
                "summary": "Get pet allergy list",
                "description": "Retrieves a list of allergies for the specified pet",
                "operationId": "getPetAllergies",
                "parameters": [
                    {
                        "name": "petId",
                        "in": "path",
                        "description": "ID of the pet",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Pet allergy list retrieved successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Pet allergy list retrieved successfully"
                                        },
                                        "list": {
                                            "type": "array",
                                            "items": {
                                                "properties": {
                                                    "id": {
                                                        "description": "Record ID of the pet allergy",
                                                        "type": "integer",
                                                        "example": 2
                                                    },
                                                    "allergen_id": {
                                                        "description": "ID of the allergen",
                                                        "type": "integer",
                                                        "example": 11
                                                    },
                                                    "allergen": {
                                                        "description": "Name of the allergen",
                                                        "type": "string",
                                                        "example": "Turkey"
                                                    },
                                                    "classification": {
                                                        "description": "Classification of the allergen",
                                                        "type": "string",
                                                        "example": "Food"
                                                    },
                                                    "added_by_first_name": {
                                                        "description": "First name of the person who added the allergy",
                                                        "type": "string",
                                                        "example": "Steve"
                                                    },
                                                    "added_by_last_name": {
                                                        "description": "Last name of the person who added the allergy",
                                                        "type": "string",
                                                        "example": "Tester"
                                                    },
                                                    "added_by_role": {
                                                        "description": "Role of the person who added the allergy, if applicable",
                                                        "type": "string",
                                                        "example": null,
                                                        "nullable": true
                                                    }
                                                },
                                                "type": "object"
                                            }
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Pet not found"
                    }
                }
            }
        },
        "pet/{petId}/weight/update/{weight}": {
            "post": {
                "tags": [
                    "PetHealth"
                ],
                "summary": "Updates pet weight",
                "description": "Updates pet weight",
                "operationId": "updatePetWeight",
                "parameters": [
                    {
                        "name": "petId",
                        "in": "path",
                        "description": "ID of the pet",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    },
                    {
                        "name": "weight",
                        "in": "path",
                        "description": "pet weight",
                        "required": true,
                        "schema": {
                            "type": "decimal"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "A list of weight records",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Pet weight updated successfully"
                                        },
                                        "weight": {
                                            "properties": {
                                                "weight": {
                                                    "description": "Updated weight of the pet",
                                                    "type": "number",
                                                    "format": "float",
                                                    "example": 5.5
                                                },
                                                "added_by_first_name": {
                                                    "description": "First name of the person who updated the weight",
                                                    "type": "string",
                                                    "example": "Steve"
                                                },
                                                "added_by_last_name": {
                                                    "description": "Last name of the person who updated the weight",
                                                    "type": "string",
                                                    "example": "Tester"
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Pet not found"
                    }
                }
            }
        },
        "pet/{petId}/weight/history-list": {
            "get": {
                "tags": [
                    "PetHealth"
                ],
                "summary": "Retrieve the pet weight history",
                "description": "Returns latest weight data",
                "operationId": "getPetWeightHistory",
                "parameters": [
                    {
                        "name": "petId",
                        "in": "path",
                        "description": "ID of the pet",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "A list of weight records",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "id": {
                                            "type": "integer",
                                            "example": 1
                                        },
                                        "weight": {
                                            "description": "pet weight in kilograms",
                                            "type": "number",
                                            "format": "decimal",
                                            "example": "3.5"
                                        },
                                        "added_by_first_name": {
                                            "type": "string",
                                            "example": "Steve"
                                        },
                                        "added_by_last_name": {
                                            "type": "string",
                                            "example": "Tester"
                                        },
                                        "created_at": {
                                            "type": "timestamp",
                                            "example": "2024-11-07 21:52:28"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Pet not found"
                    }
                }
            }
        },
        "pet/{petId}/weight/latest": {
            "get": {
                "tags": [
                    "PetHealth"
                ],
                "summary": "Retrieve pet's latest weight",
                "description": "Returns data for pet's latest weight and who added them",
                "operationId": "getPetWeightLatest",
                "parameters": [
                    {
                        "name": "petId",
                        "in": "path",
                        "description": "ID of the pet",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "A list of weight records",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "array",
                                    "items": {
                                        "properties": {
                                            "id": {
                                                "type": "integer",
                                                "example": 1
                                            },
                                            "weight": {
                                                "description": "pet weight in kilograms",
                                                "type": "number",
                                                "format": "decimal",
                                                "example": "3.5"
                                            },
                                            "added_by_first_name": {
                                                "type": "string",
                                                "example": "Steve"
                                            },
                                            "added_by_last_name": {
                                                "type": "string",
                                                "example": "Tester"
                                            },
                                            "created_at": {
                                                "type": "timestamp",
                                                "example": "2024-11-07 21:52:28"
                                            }
                                        },
                                        "type": "object"
                                    }
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Pet not found"
                    }
                }
            }
        }
    },
    "tags": [
        {
            "name": "Account",
            "description": "Account"
        },
        {
            "name": "PetDocuRecordsController",
            "description": "PetDocuRecordsController"
        },
        {
            "name": "PetHealth",
            "description": "PetHealth"
        }
    ]
}